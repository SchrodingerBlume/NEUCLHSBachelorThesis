# CTAN 发布时间线、标准和 TeX Live 集成指南

## 📅 时间线概览

### CTAN 审核时间

**官方说明：**
CTAN 官方文档**没有明确规定审核时间**，但根据社区经验：

| 阶段 | 预计时间 | 说明 |
|------|---------|------|
| **自动验证** | 立即 | 上传后系统自动检查文件格式、结构等 |
| **人工审核** | **几天到2周** | CTAN 团队人工审核内容、许可证、文档 |
| **发布到 CTAN** | 审核通过后立即 | 包出现在 CTAN 网站 |

**注意事项：**
- CTAN 团队是**志愿者维护**，审核速度取决于他们的时间
- **复杂包**或**首次提交**可能需要更长时间
- 如果有**问题需要修改**，会通过邮件联系作者
- **节假日**和 **TeX Live 发布季**可能导致延迟

### TeX Live 集成时间

```
CTAN 发布
    ↓
1-2 天
    ↓
TeX Live 每日更新
    ↓
用户通过 tlmgr update 获取
```

**关键信息：**
- ✅ **正常时期**：CTAN 发布后 **1-2 天**内集成到 TeX Live
- ❌ **冻结期间**：**不接受**新包或更新（每年约 1 个月）
- 📦 **新版本发布**：每年 3 月发布新的 TeX Live 主版本

---

## 🗓️ TeX Live 2025 发布时间表

根据官方信息，TeX Live 2025 的时间表：

| 日期 | 里程碑 | 说明 |
|------|--------|------|
| **2月1日** | 候选版本提交，测试构建开始 | 开始准备最终版本 |
| **2月8日** | 预测试（pretest）开始 | CTAN 更新继续接受 |
| **2月22日** | **代码冻结** | 仅接受重大 bug 修复 |
| **3月1日** | CTAN 最终更新截止 | 最后的文档调整 |
| **3月8日** | **TeX Live 2025 正式发布** | MacTeX 2025 同步发布 |

### 关键点：

**❄️ 冻结期（Freeze Period）**
- **时间**：通常为发布前 2-3 周（2月22日 - 3月8日）
- **影响**：
  - **不接受**来自 CTAN 的新包
  - **不接受**宏包更新（除非紧急 bug 修复）
  - 专注于构建所有平台的二进制文件
- **原因**：构建多架构二进制文件需要大量时间

**📌 最佳提交时间**
- ✅ **推荐**：3月中旬 - 次年1月底（约 11 个月）
- ⚠️ **避免**：2月初 - 3月初（冻结期）
- 💡 **理想**：距离下次冻结期越远越好，给用户更多测试时间

---

## 📋 CTAN 接受标准和要求

### 必需文件

#### 1. README 文件 ⭐ 必需

**文件名要求：**
- `README`
- `README.txt`
- `README.md`

**其他变体不被接受！**

**内容要求：**
- 📝 **包的简介**：简短说明包的用途
- 👤 **作者信息**：姓名和联系方式
- 📄 **许可证**：明确的许可证声明
- 🔧 **系统要求**：特殊依赖或平台要求
- 📖 **文档指引**：如何查看完整文档

**格式要求：**
- 使用 ASCII 或 UTF-8 编码（无 BOM）
- 可读性：能用 `more`/`less` 命令阅读
- **必须包含英文**或至少有英文摘要

#### 2. 文档文件 ⭐ 必需

**格式：**
- **必须是 PDF 格式**（这是 Web 访客能阅读的格式）
- 文档源文件也应该包含（自由发行版如 TeX Live 需要源文件）

**文档类型：**
- 用户手册（如何使用）
- 可选：代码文档（dtx 格式的实现细节）

**推荐命名：**
- `<包名>.pdf`
- 这样用户可以使用 `texdoc <包名>` 直接打开文档

#### 3. 许可证 ⭐ 必需

**推荐许可证：**
- **LPPL v1.3c** （LaTeX Project Public License）
  - ✅ CTAN 推荐
  - ✅ TeX Live 接受
  - ✅ LaTeX 社区标准

**其他可接受的许可证：**
- BSD
- MIT
- Apache 2.0
- GPL（但可能限制 TeX Live 包含）

**⚠️ 警告：**
- **不要自创许可证**！会严重延迟 TeX Live 收录
- 许可证必须是**自由软件许可证**，否则无法进入 TeX Live

**许可证声明位置：**
- README 文件中
- 源代码文件头部注释
- 可选：单独的 LICENSE 文件

#### 4. 版本标识 ⭐ 必需

每个 CTAN 提交必须包含版本标识：

**格式选项：**
- 版本号：`1.0`, `3.0.17`
- 版本日期：`2025-11-17` 或 `2025/11/17`
- 或两者都有

**放置位置：**
```latex
% 在 .cls 或 .sty 文件中
\ProvidesClass{yourclass}[2025/11/17 v1.1.1 Description]
\ProvidesPackage{yourpackage}[2025/11/17 v1.0.0 Description]
```

或在 README、VERSION 文件、CHANGES 文件中

---

### 文件结构要求

#### 包命名规范

**允许的字符：**
- 必须以**字母**开头
- 只能包含：ASCII 字母、数字、连字符 `-`、下划线 `_`

**CTAN 偏好：**
- 使用**连字符** `-` 而非下划线 `_`
- 统计：1528 个包用连字符，只有 10 个用下划线

**命名建议：**
- 根据**功能**命名，而非作者名
- 使用小写字母
- 简洁明了

**保留前缀：**
- ❌ `l3*` - 保留给 LaTeX3 官方包
- ❌ `ltx-*` - 保留给 LaTeX Project Team

#### 目录结构

**基本要求：**
```
yourpackage/              ← 顶层目录（与包名相同）
├── README.md             ← 必需
├── yourpackage.dtx       ← 源文件（推荐）
├── yourpackage.ins       ← 安装脚本（推荐）
├── yourpackage.pdf       ← 文档（必需）
├── LICENSE 或 LICENSES/  ← 许可证
└── ...
```

**⚠️ 重要：**
- 压缩包必须包含以包名命名的**顶层目录**
- 顶层目录名必须与包名**完全一致**

**推荐的 TDS 结构（可选但推荐）：**
```
yourpackage/
├── README.md
├── yourpackage.pdf
├── source/
│   ├── yourpackage.dtx
│   └── yourpackage.ins
└── tex/
    └── yourpackage.cls
```

#### 文件内容要求

**只包含源文件原则：**
- ✅ 只包含**不能生成的文件**
- ❌ 不要包含中间文件（.aux, .log, .toc 等）
- ⚠️ **例外**：PDF 文档（即使可以生成也必须包含）

**文件名唯一性：**
- 强烈推荐包内所有文件名唯一
- 避免常见文件名（如 `main.tex`）

**特殊字符限制：**
- ❌ 文件名中不能使用 `@` 字符（影响 TeX Live）
- ✅ 使用 ASCII 字符命名文件

---

### 压缩格式要求

**支持的格式：**
- ✅ ZIP (`.zip`)
- ✅ tar + gzip (`.tar.gz`, `.tgz`)

**不支持的格式：**
- ❌ `.tar.bz2`
- ❌ `.tar.xz`
- ❌ `.7z`
- ❌ `.rar`

---

## 🚀 TeX Live 集成要求

### 除了 CTAN 要求外的额外要求：

#### 1. 必须先上传到 CTAN
- TeX Live **不接受**未在 CTAN 发布的新包
- 基本流程：**CTAN → TeX Live**

#### 2. 文档源文件必需
- 生成的 PDF 文档必须提供源文件
- 否则文档无法被包含在 TeX Live 中

#### 3. 文件名限制
- **禁止使用 `@` 字符**（源文件和生成文件都不行）

#### 4. 许可证要求更严格
- 必须是**自由软件许可证**
- LPPL, MIT, BSD, Apache 等
- 专有许可证会被排除

---

## 📊 实际时间线示例

### 场景1：正常时期提交（推荐）

```
第1天：上传到 CTAN
    ↓
第2-7天：CTAN 团队审核
    ↓
第7天：CTAN 发布，包出现在 ctan.org
    ↓
第8-9天：自动同步到 TeX Live
    ↓
第9天起：用户通过 tlmgr update 可获取
```

**总耗时**：约 **1-2 周**从提交到用户可用

### 场景2：冻结期前提交（需注意）

```
1月25日：上传到 CTAN
    ↓
1月28日：CTAN 审核通过，发布
    ↓
1月30日：集成到 TeX Live 2024
    ↓
2月22日：TeX Live 代码冻结
    ↓  包已经在 TL 2024 中，但很快会被"冻结"
3月8日：TeX Live 2025 发布
    ↓  包自动包含在新版本中
```

### 场景3：冻结期提交（不推荐）

```
2月25日：上传到 CTAN
    ↓
2月28日：CTAN 审核通过，发布
    ↓
❌ 无法集成到 TeX Live 2025（已冻结）
    ↓
3月8日：TeX Live 2025 发布（不含你的包）
    ↓
3月10日：集成到 TeX Live 2025 日常更新
    ↓
用户需要手动更新才能获取
```

**问题**：错过主版本发布，用户体验不佳

### 场景4：最佳时间提交

```
4月1日：上传到 CTAN（刚过冻结期）
    ↓
4月5日：CTAN 发布
    ↓
4月7日：集成到 TeX Live 2025
    ↓
11个月的稳定期，直到次年2月冻结
```

**优势**：
- 包含在当前 TeX Live 主版本
- 有足够时间收集用户反馈
- 距离下次冻结期最远

---

## ✅ 提交检查清单

### 提交前确认：

#### 文件完整性
- [ ] README.md（包含英文说明或摘要）
- [ ] PDF 文档（`yourpackage.pdf`）
- [ ] 文档源文件（`.dtx` 或 `.tex`）
- [ ] 许可证信息（LPPL 推荐）
- [ ] 版本标识（在 `\Provides*` 或 README 中）

#### 文件质量
- [ ] 无编译警告或错误
- [ ] 文档完整、清晰
- [ ] 示例代码可运行
- [ ] 没有临时文件（.aux, .log 等）

#### 命名和结构
- [ ] 包名符合规范（字母开头，ASCII字符）
- [ ] 顶层目录名与包名一致
- [ ] 文件名唯一且无 `@` 字符
- [ ] 压缩格式为 .zip 或 .tar.gz

#### 许可证
- [ ] 使用已有的开源许可证（LPPL 推荐）
- [ ] README 中明确声明许可证
- [ ] 源文件头部包含许可证注释

#### 文档
- [ ] 用户手册完整（安装、使用、示例）
- [ ] 包含英文文档或英文摘要
- [ ] 示例代码有效
- [ ] 文档可用 `pdflatex` 或 `xelatex` 编译

#### TeX Live 兼容性
- [ ] 文档源文件已包含
- [ ] 无专有许可证限制
- [ ] 文件名无特殊字符

---

## 🎯 给你的项目的建议

### 当前状态
- ✅ 已转换为 .dtx/.ins 格式
- ✅ 有 LPPL 许可证
- ⚠️ README 需要添加英文内容

### 最佳提交时间

**选项1：立即提交（2025年11月）**
- ✅ 距离冻结期远（约3个月）
- ✅ 可以进入 TeX Live 2025 的日常更新
- ✅ 有时间收集反馈
- ⏳ 但错过了 TeX Live 2025 主版本发布（3月已发布）

**选项2：等待 TeX Live 2026（2026年4月）**
- ✅ 包含在 TeX Live 2026 主版本
- ✅ 更好的测试时间
- ❌ 需要等待几个月

**💡 推荐：立即提交**
- CTAN 发布不受 TeX Live 周期限制
- 用户可以通过 CTAN 或 `tlmgr update` 获取
- 早发布早收集反馈

### 提交前待办事项

1. **完善 README**（高优先级）
   - 添加英文项目描述
   - 或在中文 README 前添加英文摘要

2. **测试生成**（必需）
   ```bash
   latex NEUCLHSBachelorThesis.ins  # 生成 .cls 和 .sty
   xelatex NEUCLHSBachelorThesis.dtx # 生成文档
   ```

3. **创建 MANIFEST**（推荐）
   - 列出所有文件及其用途

4. **准备 TDS 结构**（可选但推荐）
   - 创建符合 TDS 标准的目录结构

5. **最终测试**
   - 在干净环境测试编译
   - 验证示例能正常工作

---

## 📞 联系和资源

### 如果遇到问题

**CTAN 上传问题：**
- 网址：https://ctan.org/upload
- 联系：ctan@ctan.org

**TeX Live 集成问题：**
- 邮件列表：tex-live@tug.org
- 网址：https://www.tug.org/texlive/

**社区支持：**
- TeX Stack Exchange: https://tex.stackexchange.com
- CTAN 公告邮件列表

### 有用的链接

- **CTAN 提交指南**: https://ctan.org/help/submit
- **CTAN 上传页面**: https://ctan.org/upload
- **TeX Live 包贡献**: https://www.tug.org/texlive/pkgcontrib.html
- **LPPL 许可证**: http://www.latex-project.org/lppl.txt

---

## 📌 关键要点总结

1. **CTAN 审核**：几天到2周（无官方承诺）
2. **TeX Live 集成**：CTAN 发布后 1-2 天（非冻结期）
3. **冻结期**：每年2月下旬到3月初（约2-3周）
4. **最佳提交时间**：3月中旬到次年1月（避开冻结期）
5. **必需文件**：README（英文）、PDF文档、许可证、版本标识
6. **推荐格式**：.dtx/.ins（你已完成）
7. **推荐许可证**：LPPL v1.3c（你已使用）
8. **TeX Live 要求**：必须先在 CTAN，自由许可证，提供文档源码

---

**生成时间**：2025-11-17
**基于**：CTAN 官方文档和 TeX Live 2025 发布时间表
